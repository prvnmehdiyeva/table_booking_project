  <div class="container pt-5 mt-5">
    <div class="head mt-4">
      <h1 class="title">Seating Chart</h1>
    </div>
    <div class="d-flex">
      <div class="div">
        <p class="w-50 py-4">Select your desired <span class="fw-bold color-primary">date and time</span>, then simply click on your preferred seat on our interactive map to reserve it instantly. Enjoy your event hassle-free with our seamless booking process!</p>
      </div>
       
       <section class="mt-3 ftco-section">
        <div class="btn-group">
           <button type="button" class="mb-3 btn btn-primary dropdown-toggle text-left" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-people-roof"></i>
             Room {{selectedRoom}}
          </button>
          <div class="dropdown-menu dropdown-menu-right">
            <a class="dropdown-item color-1" (click)="selectRoom('1')">
              <i class="mr-4 fa fa-people-roof"></i>
              Devspace-Room 1 <br>&nbsp;3 rows of seats
            </a>
            <a class="dropdown-item color-2" (click)="selectRoom('2')">
              <span class="mr-4 ion-ios-rainy"></span>
              CodeLounge-Room 2 <br>&nbsp;4 rows of seats
            </a>
            <a class="dropdown-item color-3" (click)="selectRoom('3')">
              <span class="mr-4 ion-ios-cloudy"></span>
              ByteLab-Room 3 <br>&nbsp;5 rows of seats
            </a>
          </div>
        </div>
        <p class="text-muted fst-italic lh-sm">*Select a room to begin choosing your seat</p>
</section>
    </div>
   
    <div class="row align-items-start">
      <div class="col-6 mt-3">
        <mbsc-datepicker
					[controls]="['calendar', 'time']"
					dateFormat="DDD D MMM, YYYY"
					timeFormat="H:mm"
					dateWheels="|DDD D MMM, YYYY|"
        	select="range"
    			display="inline"
    			[touchUi]="true"
					[themeVariant]="document.body.classList.contains('dark') ? 'dark' : 'light'"
					(onChange)="handleRangeChange($event,selectedRoom || '')"
          style="align-items: flex-start;"
					>
				</mbsc-datepicker>
      </div>
      <div class="container col-6">
        
        <div class="map">
          <ng-container *ngIf="selectedRoom === '1'">
            <ng-container  *ngFor="let row of table1Seats let i = index">
              <div class="d-block flow-root">
                <ng-container *ngFor="let seat of table1Id">
                  <div class="seat" 
                  [id]="row + seat" 
                  [class.mx-5]="seat == 'B'"
                  (click)="onSeatClicked(row + seat)"
                  [class.selected]="toggleSelection(row + seat)"
                  [class.notvacant]="isSeatBooked(row + seat)" 
                  [title]="getAltMessage(isSeatBooked(row + seat))"
                  (mouseenter)="showButton = true" 
                  (mouseleave)="showButton = false"
                  >
                  {{row}}{{seat}}
                  
                  <button *ngIf="!isSeatBooked(row + seat) && showButton && startDate && endDate" class="mt-3 btn btn-primary seat-button" (click)="toggleCheckout(row + seat)">Reserve</button>
                </div>
                </ng-container>
              
              </div>
              <div class="space" [class.space]="(i + 1) % 2 === 0"></div>
            </ng-container>
          </ng-container>
					
          <ng-container *ngIf="selectedRoom === '2'">
             <ng-container  *ngFor="let row of table2Seats let i = index">
            <div class="d-block flow-root">
              <ng-container *ngFor="let seat of table2Id">
                <div class="seat" 
                [id]="row + seat" 
                [class.mx-5]="seat === 'B'"
                [class.me-5]="seat === 'C'"
                (click)="onSeatClicked(row + seat)"
                [class.selected]="toggleSelection(row + seat)"
                [class.notvacant]="isSeatBooked(row + seat)" 
                [title]="getAltMessage(isSeatBooked(row + seat))"
                (mouseenter)="showButton = true" 
                (mouseleave)="showButton = false"
                >
                {{row}}{{seat}}
                <button *ngIf="!isSeatBooked(row + seat) && showButton && startDate && endDate" class="mt-3 btn btn-primary seat-button" (click)="toggleCheckout(row + seat)">Reserve</button>
              </div>
              </ng-container>
            </div>
            <div class="space" [class.space]="(i + 1) % 2 === 0"></div>
          </ng-container>
          </ng-container>
         
          <ng-container *ngIf="selectedRoom === '3'">
              <ng-container  *ngFor="let row of table3Seats let i = index">
              <div class="d-block flow-root">
                <ng-container *ngFor="let seat of table3Id">
                  <div class="seat" 
                  [id]="row + seat" 
                  [class.mx-4]="seat === 'B' || seat === 'D'"
                  (click)="onSeatClicked(row + seat)"
                  [class.selected]="toggleSelection(row + seat)"
                  [class.notvacant]="isSeatBooked(row + seat)" 
                  [title]="getAltMessage(isSeatBooked(row + seat))"
                  (mouseenter)="showButton = true" 
                  (mouseleave)="showButton = false"
                  >
                  {{row}}{{seat}}
                  <button *ngIf="!isSeatBooked(row + seat) && showButton && startDate && endDate" class="mt-3 btn btn-primary seat-button" (click)="toggleCheckout(row + seat)">Reserve</button>

                </div>
                </ng-container>
              </div>
              <div class="space" [class.space]="(i + 1) % 2 === 0"></div>
            </ng-container>
          </ng-container>
          
        </div>
      </div>
    </div>
	</div>
<app-checkout [startDate]="startDate" 
[endDate]="endDate" [selectedSeat]="selectedTable" *ngIf="checkoutVisible" ></app-checkout>

